apply plugin: 'java'
apply plugin: "application"
apply plugin: "maven-publish"

application {
    mainClassName = "com.test.Project"
}

artifactId 'custom-artifact'

repositories {
    mavenCentral()
}

dependencies {
    compile group: 'org.apache.commons', name: 'commons-collections4', version: '4.0'
    compile('org.apache.logging.log4j:log4j-core:2.13.1')
    compile('org.apache.logging.log4j:log4j-slf4j-impl:2.13.1')
    compile('org.apache.logging.log4j:log4j-1.2-api:2.13.1')
    testCompile 'junit:junit:4.12'
}

jar {
  manifest {
    attributes(
      'Main-Class': 'com.test.Project',
      'addClasspath': 'true'
    )
  }
}

task "build-custom" {
    doLast {
        println 'build-custom'
    }
}

task "test-custom"(dependsOn: "build-custom") {
    doLast {
        println 'test-custom'
    }
}

task "hello"(dependsOn: "test-custom") {
    doLast {
        println 'hello'
    }
}
